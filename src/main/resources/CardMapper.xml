<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.digital.dao.CardMapper">


    <insert id="addCard" parameterType="com.digital.entity.Card">
        insert into cardinfo.card (name,phone_num,e_mail,workplace,title,address,username)
        values (#{name},#{phone_num},#{e_mail},#{workplace},#{title},#{address},#{username})
    </insert>
    <delete id="DeleteCard" parameterType="com.digital.entity.Card">
        delete from cardinfo.card where card_id = #{card_id}
    </delete>

    <update id="UpdateCard" parameterType="com.digital.entity.Card">
        update cardinfo.card
        set name = #{name},
        phone_num = #{phone_num},
        e_mail = #{e_mail},
        workplace = #{workplace},
        title = #{title},
        address = #{address},
        username = #{username}
        where card_id = #{card_id}
    </update>

    <select id="list" resultType="com.digital.entity.Card">
        select * from cardinfo.card
    </select>
    <select id="findCardById" resultType="com.digital.entity.Card">
        select * from cardinfo.card where card_id=#{card_id}
    </select>
    <select id="findCardByUsername" resultType="com.digital.entity.Card">
        select * from cardinfo.card where username=#{username}
    </select>
</mapper>